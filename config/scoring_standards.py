# -*- coding: utf-8 -*-
"""
评分标准数据模块
根据国家学生体质健康标准制定
"""

# 男生评分标准
MALE_SCORING = {
    # 必选项：1000米跑（秒）
    "1000m": [
        (220, 10.0), (225, 9.5), (230, 9.0), (235, 8.5), (240, 8.0),
        (245, 7.5), (250, 7.0), (255, 6.5), (260, 6.0), (265, 5.5),
        (270, 5.0), (275, 4.5), (280, 4.0), (285, 3.5), (290, 3.0),
        (295, 2.5), (300, 2.0), (305, 1.5), (310, 1.0), (315, 0.5),
        (320, 0.0)
    ],
    
    # 第一类选考：50米跑（秒）
    "50m": [
        (7.3, 10.0), (7.4, 9.5), (7.5, 9.0), (7.6, 8.5), (7.7, 8.0),
        (7.8, 7.5), (7.9, 7.0), (8.0, 6.5), (8.1, 6.0), (8.2, 5.5),
        (8.3, 5.0), (8.4, 4.5), (8.5, 4.0), (8.6, 3.5), (8.7, 3.0),
        (8.8, 2.5), (8.9, 2.0), (9.0, 1.5), (9.1, 1.0), (9.2, 0.5),
        (9.3, 0.0)
    ],
    
    # 第一类选考：坐位体前屈（厘米）
    "sit_reach": [
        (21.6, 10.0), (20.1, 9.5), (18.6, 9.0), (17.1, 8.5), (15.6, 8.0),
        (14.1, 7.5), (12.6, 7.0), (11.1, 6.5), (9.6, 6.0), (8.1, 5.5),
        (6.6, 5.0), (5.1, 4.5), (3.6, 4.0), (2.1, 3.5), (0.6, 3.0),
        (-0.9, 2.5), (-2.4, 2.0), (-3.9, 1.5), (-5.4, 1.0), (-6.9, 0.5),
        (-8.4, 0.0)
    ],
    
    # 第一类选考：立定跳远（厘米）
    "standing_jump": [
        (250, 10.0), (245, 9.5), (240, 9.0), (235, 8.5), (230, 8.0),
        (225, 7.5), (220, 7.0), (215, 6.5), (210, 6.0), (205, 5.5),
        (200, 5.0), (195, 4.5), (190, 4.0), (185, 3.5), (180, 3.0),
        (175, 2.5), (170, 2.0), (165, 1.5), (160, 1.0), (155, 0.5),
        (150, 0.0)
    ],
    
    # 第一类选考：引体向上（次）
    "pull_ups": [
        (15, 10.0), (14, 9.5), (13, 9.0), (12, 8.5), (11, 8.0),
        (10, 7.5), (9, 7.0), (8, 6.5), (7, 6.0), (6, 5.5),
        (5, 5.0), (4, 4.5), (3, 4.0), (2, 3.5), (1, 3.0),
        (0, 2.5), (0, 2.0), (0, 1.5), (0, 1.0), (0, 0.5),
        (0, 0.0)
    ],
    
    # 第二类选考：篮球运球（秒）
    "basketball": [
        (9.4, 10.0), (10.0, 9.5), (10.6, 9.0), (11.2, 8.5), (11.8, 8.0),
        (12.4, 7.5), (13.0, 7.0), (13.6, 6.5), (14.2, 6.0), (14.8, 5.5),
        (15.4, 5.0), (16.0, 4.5), (16.6, 4.0), (17.2, 3.5), (17.8, 3.0),
        (18.4, 2.5), (19.0, 2.0), (19.6, 1.5), (20.2, 1.0), (20.8, 0.5),
        (21.4, 0.0)
    ],
    
    # 第二类选考：足球运球（秒）
    "football": [
        (7.5, 10.0), (8.0, 9.5), (8.5, 9.0), (9.0, 8.5), (9.5, 8.0),
        (10.0, 7.5), (10.5, 7.0), (11.0, 6.5), (11.5, 6.0), (12.0, 5.5),
        (12.5, 5.0), (13.0, 4.5), (13.5, 4.0), (14.0, 3.5), (14.5, 3.0),
        (15.0, 2.5), (15.5, 2.0), (16.0, 1.5), (16.5, 1.0), (17.0, 0.5),
        (17.5, 0.0)
    ],
    
    # 第二类选考：排球垫球（次）
    "volleyball": [
        (40, 10.0), (38, 9.5), (36, 9.0), (34, 8.5), (32, 8.0),
        (30, 7.5), (28, 7.0), (26, 6.5), (24, 6.0), (22, 5.5),
        (20, 5.0), (18, 4.5), (16, 4.0), (14, 3.5), (12, 3.0),
        (10, 2.5), (8, 2.0), (6, 1.5), (4, 1.0), (2, 0.5),
        (1, 0.0)
    ]
}

# 女生评分标准
FEMALE_SCORING = {
    # 必选项：800米跑（秒）
    "800m": [
        (205, 10.0), (210, 9.5), (215, 9.0), (220, 8.5), (225, 8.0),
        (230, 7.5), (235, 7.0), (240, 6.5), (245, 6.0), (250, 5.5),
        (255, 5.0), (260, 4.5), (265, 4.0), (270, 3.5), (275, 3.0),
        (280, 2.5), (285, 2.0), (290, 1.5), (295, 1.0), (300, 0.5),
        (305, 0.0)
    ],
    
    # 第一类选考：50米跑（秒）
    "50m": [
        (7.9, 10.0), (8.0, 9.5), (8.1, 9.0), (8.2, 8.5), (8.3, 8.0),
        (8.4, 7.5), (8.5, 7.0), (8.6, 6.5), (8.7, 6.0), (8.8, 5.5),
        (8.9, 5.0), (9.0, 4.5), (9.1, 4.0), (9.2, 3.5), (9.3, 3.0),
        (9.4, 2.5), (9.5, 2.0), (9.6, 1.5), (9.7, 1.0), (9.8, 0.5),
        (9.9, 0.0)
    ],
    
    # 第一类选考：坐位体前屈（厘米）
    "sit_reach": [
        (23.5, 10.0), (22.0, 9.5), (20.5, 9.0), (19.0, 8.5), (17.5, 8.0),
        (16.0, 7.5), (14.5, 7.0), (13.0, 6.5), (11.5, 6.0), (10.0, 5.5),
        (8.5, 5.0), (7.0, 4.5), (5.5, 4.0), (4.0, 3.5), (2.5, 3.0),
        (1.0, 2.5), (-0.5, 2.0), (-2.0, 1.5), (-3.5, 1.0), (-5.0, 0.5),
        (-6.5, 0.0)
    ],
    
    # 第一类选考：立定跳远（厘米）
    "standing_jump": [
        (202, 10.0), (197, 9.5), (192, 9.0), (187, 8.5), (182, 8.0),
        (177, 7.5), (172, 7.0), (167, 6.5), (162, 6.0), (157, 5.5),
        (152, 5.0), (147, 4.5), (142, 4.0), (137, 3.5), (132, 3.0),
        (127, 2.5), (122, 2.0), (117, 1.5), (112, 1.0), (107, 0.5),
        (102, 0.0)
    ],
    
    # 第一类选考：仰卧起坐（次）
    "sit_ups": [
        (52, 10.0), (50, 9.5), (48, 9.0), (46, 8.5), (44, 8.0),
        (42, 7.5), (40, 7.0), (38, 6.5), (36, 6.0), (34, 5.5),
        (32, 5.0), (30, 4.5), (28, 4.0), (26, 3.5), (24, 3.0),
        (22, 2.5), (20, 2.0), (18, 1.5), (16, 1.0), (14, 0.5),
        (12, 0.0)
    ],
    
    # 第二类选考：篮球运球（秒）
    "basketball": [
        (12.0, 10.0), (12.8, 9.5), (13.6, 9.0), (14.4, 8.5), (15.2, 8.0),
        (16.0, 7.5), (16.8, 7.0), (17.6, 6.5), (18.4, 6.0), (19.2, 5.5),
        (20.0, 5.0), (20.8, 4.5), (21.6, 4.0), (22.4, 3.5), (23.2, 3.0),
        (24.0, 2.5), (24.8, 2.0), (25.6, 1.5), (26.4, 1.0), (27.2, 0.5),
        (28.0, 0.0)
    ],
    
    # 第二类选考：足球运球（秒）
    "football": [
        (8.1, 10.0), (8.6, 9.5), (9.1, 9.0), (9.6, 8.5), (10.1, 8.0),
        (10.6, 7.5), (11.1, 7.0), (11.6, 6.5), (12.1, 6.0), (12.6, 5.5),
        (13.1, 5.0), (13.6, 4.5), (14.1, 4.0), (14.6, 3.5), (15.1, 3.0),
        (15.6, 2.5), (16.1, 2.0), (16.6, 1.5), (17.1, 1.0), (17.6, 0.5),
        (18.1, 0.0)
    ],
    
    # 第二类选考：排球垫球（次）
    "volleyball": [
        (35, 10.0), (33, 9.5), (31, 9.0), (29, 8.5), (27, 8.0),
        (25, 7.5), (23, 7.0), (21, 6.5), (19, 6.0), (17, 5.5),
        (15, 5.0), (13, 4.5), (11, 4.0), (9, 3.5), (7, 3.0),
        (5, 2.5), (3, 2.0), (2, 1.5), (1, 1.0), (1, 0.5),
        (1, 0.0)
    ]
}


def get_scoring_data(gender: str) -> dict:
    """根据性别获取评分标准数据"""
    if gender == "male":
        return MALE_SCORING
    elif gender == "female":
        return FEMALE_SCORING
    else:
        raise ValueError(f"不支持的性别: {gender}")


def parse_time_to_seconds(time_str: str) -> float:
    """将时间字符串转换为秒数
    支持格式: "3'45"", "3:45", "225" (纯秒数)
    """
    if "'" in time_str and '"' in time_str:
        # 格式: "3'45""
        parts = time_str.replace('"', '').split("'")
        minutes = int(parts[0])
        seconds = int(parts[1])
        return minutes * 60 + seconds
    elif ":" in time_str:
        # 格式: "3:45"
        parts = time_str.split(":")
        minutes = int(parts[0])
        seconds = int(parts[1])
        return minutes * 60 + seconds
    else:
        # 纯秒数
        return float(time_str)


def format_seconds_to_time(seconds: float) -> str:
    """将秒数转换为时间格式字符串"""
    minutes = int(seconds // 60)
    secs = int(seconds % 60)
    return f"{minutes}'{secs:02d}\""
